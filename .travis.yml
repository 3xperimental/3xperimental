sudo: required
dist: xenial
language: cpp

cache:
  apt: true

addons:
  apt:
    update: true
    sources:
      - sourceline: 'ppa:mhier/libboost-latest'
    packages:
      - libboost1.67-dev

matrix:
  include:

  #
  # release-all (gcc)
  #
  - os: linux
    compiler: gcc
    addons:
      apt:
        packages:
          - build-essential 
          - cmake 
          - g++
          - gcc
          - clang
          - pkg-config 
          - libssl-dev 
          - libzmq3-dev 
          - libunbound-dev 
          - libsodium-dev 
          - libminiupnpc-dev 
          - libunwind8-dev 
          - liblzma-dev 
          - libreadline6-dev 
          - libldns-dev 
          - libexpat1-dev 
          - doxygen 
          - graphviz 
          - libpcsclite-dev 
          - libpgm-dev
    sources:
        - ubuntu-toolchain-r-test
    install:
      - sudo add-apt-repository -y ppa:mhier/libboost-latest
      - sudo apt-get update
      - sudo apt-get -y install libboost1.67-dev
    script:
      - make -j2

  #
  # release-all (clang)
  #
  - os: linux
    compiler: clang
    addons:
      apt:
        packages:
          - build-essential
          - cmake
          - g++
          - gcc
          - clang
          - pkg-config
          - libssl-dev
          - libzmq3-dev
          - libunbound-dev
          - libsodium-dev
          - libminiupnpc-dev
          - libunwind8-dev
          - liblzma-dev
          - libreadline6-dev
          - libldns-dev
          - libexpat1-dev
          - doxygen
          - graphviz
          - libpcsclite-dev
          - libpgm-dev
      sources:
        - ubuntu-toolchain-r-test
    install:
      - sudo add-apt-repository -y ppa:mhier/libboost-latest
      - sudo apt-get update
      - sudo apt-get -y install libboost1.67-dev
    script:
      - make -j2
